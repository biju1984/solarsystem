<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Solar System Simulation</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128/examples/js/controls/OrbitControls.js"></script>
    <style>
        body { margin: 0; overflow: hidden; }
        canvas { display: block; background: black; }
    </style>
</head>
<body>
<script>
    let scene = new THREE.Scene();
    let camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 10000);
    let renderer = new THREE.WebGLRenderer({ antialias: true });
    renderer.setSize(window.innerWidth, window.innerHeight);
    document.body.appendChild(renderer.domElement);

    let textureLoader = new THREE.TextureLoader();

    // Ambient Light
    let ambientLight = new THREE.AmbientLight(0xffffff, 1.2);
    scene.add(ambientLight);

    // Background Stars
    let starGeometry = new THREE.BufferGeometry();
    let starVertices = [];
    for (let i = 0; i < 5000; i++) {
        let x = (Math.random() - 0.5) * 10000;
        let y = (Math.random() - 0.5) * 10000;
        let z = (Math.random() - 0.5) * 10000;
        starVertices.push(x, y, z);
    }
    starGeometry.setAttribute('position', new THREE.Float32BufferAttribute(starVertices, 3));
    let starMaterial = new THREE.PointsMaterial({ color: 0xffffff, size: 1.5 });
    let stars = new THREE.Points(starGeometry, starMaterial);
    scene.add(stars);

    function createLabeledObject(name, size, texturePath, emissiveColor) {
        let geometry = new THREE.SphereGeometry(size, 64, 64);
        let material = new THREE.MeshStandardMaterial({ 
            map: textureLoader.load(texturePath), 
            emissive: emissiveColor, 
            emissiveIntensity: 2
        });
        let planet = new THREE.Mesh(geometry, material);
        
        let labelDiv = document.createElement('div');
        labelDiv.style.position = 'absolute';
        labelDiv.style.color = 'white';
        labelDiv.style.backgroundColor = 'rgba(0, 0, 0, 0.5)';
        labelDiv.style.padding = '4px';
        labelDiv.style.fontSize = '12px';
        labelDiv.innerHTML = name;
        document.body.appendChild(labelDiv);
        
        planet.label = labelDiv;
        
        return planet;
    }

    let sun = createLabeledObject('Sun', 50, './sun.jpg', 0xff4500);
    scene.add(sun);

    let planets = [];
let planetData  = [
    { name: 'Mercury', size: 2, distance: 80, speed: 0.004, texture: './mercury.jpg', glow: 0xaaaaaa },
    { name: 'Venus', size: 5, distance: 120, speed: 0.003, texture: './venus.jpg', glow: 0xffaa00 },
    { name: 'Earth', size: 6.3, distance: 160, speed: 0.002, texture: './earth.jpg', glow: '718ff8' },
    { name: 'Mars', size: 3.5, distance: 200, speed: 0.0015, texture: './mars.jpg', glow: 0xff4500 },
    { name: 'Jupiter', size: 15, distance: 300, speed: 0.0008, texture: './jupiter.jpg', glow: 'C07B41' },
    { name: 'Saturn', size: 12, distance: 400, speed: 0.0005, texture: './saturn.jpg', glow: 0xffd700 },
    { name: 'Uranus', size: 9, distance: 500, speed: 0.0003, texture: './uranus.jpg', glow: 0x00ffff },
    { name: 'Neptune', size: 20, distance: 600, speed: 0.0002, texture: './neptune.jpg', glow: '718ff8' }
];


    planetData.forEach(data => {
        let planet = createLabeledObject(data.name, data.size, data.texture, data.glow);
        scene.add(planet);
        planets.push({ mesh: planet, speed: data.speed, distance: data.distance, angle: Math.random() * Math.PI * 2 });
    });

    let controls = new THREE.OrbitControls(camera, renderer.domElement);
    camera.position.set(0, 0, 1000);
    controls.update();

    function animate() {
        requestAnimationFrame(animate);
        
        planets.forEach(planet => {
            planet.angle += planet.speed;
            planet.mesh.position.x = planet.distance * Math.cos(planet.angle);
            planet.mesh.position.z = planet.distance * Math.sin(planet.angle);
            planet.mesh.rotation.y += 0.02;
            
            let vector = new THREE.Vector3();
            planet.mesh.getWorldPosition(vector);
            let coords = vector.project(camera);
            let x = (coords.x * 0.5 + 0.5) * window.innerWidth;
            let y = (coords.y * -0.5 + 0.5) * window.innerHeight;
            planet.mesh.label.style.transform = `translate(${x}px, ${y}px)`;
        });
        
        renderer.render(scene, camera);
    }
    animate();
</script>
</body>
</html>
